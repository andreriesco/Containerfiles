# Copyright (c) 2024 Matheus Castello
# SPDX-License-Identifier: MIT
ARG NAME
ARG IMAGE_ARCH=
ARG BASE_REGISTRY=
ARG BASE_IMAGE=
ARG BASE_VERSION=
ARG BASE_IMAGE_DOTNET=
ARG BASE_VERSION_DOTNET=
ARG GPU=
ARG DOTNET_SEMVER=

FROM ${BASE_REGISTRY}${BASE_IMAGE_DOTNET}:${BASE_VERSION_DOTNET} AS dotnet-debug

FROM ${BASE_REGISTRY}${BASE_IMAGE}${GPU}:${BASE_VERSION} AS dotnet-gtk

ARG NAME
ARG IMAGE_ARCH
ARG BASE_REGISTRY
ARG BASE_IMAGE
ARG BASE_VERSION
ARG GPU
ARG DOTNET_SEMVER
ARG TARGETARCH

# integrate the vsdbg debugger
COPY --from=dotnet-debug /vsdbg /vsdbg
